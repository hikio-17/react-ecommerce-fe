{"version":3,"file":"static/js/220.99488350.chunk.js","mappings":"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","sources":["components/card/ProductCard.js","functions/ShowAverage.js","functions/category.js","functions/product.js","functions/user.js","components/card/ProductListItems.js","components/modal/RatingModal.js","components/card/SingleProduct.js","pages/Product.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Card, Tooltip } from \"antd\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { EyeOutlined, ShoppingCartOutlined } from \"@ant-design/icons\";\r\nimport defaultGambar from \"../../images/default.png\";\r\nimport ShowAverage from \"../../functions/ShowAverage\";\r\nimport _, { uniqWith } from \"lodash\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nconst { Meta } = Card;\r\n\r\nconst ProductCard = ({ product }) => {\r\n  // add to cart\r\n  const [tooltip, setTooltip] = useState(\"Click to add\");\r\n\r\n  // redux\r\n  const { user, cart } = useSelector((state) => ({ ...state }));\r\n  const dispatch = useDispatch();\r\n\r\n  const handleAddToCart = () => {\r\n    // create cart array\r\n    let cart = [];\r\n    if (typeof window !== \"undefined\") {\r\n      // if cart is in local storage GET it\r\n      if (localStorage.getItem(\"cart\")) {\r\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n      }\r\n\r\n      // push new product to cart\r\n      cart.push({\r\n        ...product,\r\n        count: 1,\r\n      });\r\n\r\n      // remove duplicates\r\n      let unique = uniqWith(cart, _.isEqual);\r\n      // save to local storage\r\n      // console.log(\"unique\", unique);\r\n      localStorage.setItem(\"cart\", JSON.stringify(unique));\r\n\r\n      // show Tooltip\r\n      setTooltip(\"Added\");\r\n\r\n      // add redux state\r\n      dispatch({\r\n        type: \"ADD_TO_CART\",\r\n        payload: unique,\r\n      });\r\n\r\n      // show cart items in side drawer\r\n      dispatch({\r\n        type: \"SET_VISIBLE\",\r\n        payload: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  const { title, description, images, slug, price } = product;\r\n\r\n  return (\r\n    <>\r\n      {product && product.ratings && product.ratings.length > 0 ? (\r\n        <ShowAverage product={product} />\r\n      ) : (\r\n        <div className=\"text-center pt-1 pb-3r\">No rating yet</div>\r\n      )}\r\n      <Card\r\n        cover={\r\n          <img\r\n            src={images && images.length ? images[0].url : defaultGambar}\r\n            style={{ height: \"150px\", objectFit: \"contain\" }}\r\n            className=\"p-1\"\r\n            alt=\"\"\r\n          />\r\n        }\r\n        actions={[\r\n          <Link to={`/product/${slug}`}>\r\n            <EyeOutlined className=\"text-info\" /> <br /> View Product\r\n          </Link>,\r\n\r\n          <Tooltip title={tooltip}>\r\n            <a onClick={handleAddToCart} disabled={product.quantity < 1}>\r\n              <ShoppingCartOutlined className=\"text-danger\" /> <br />{\" \"}\r\n              {product.quantity < 1 ? \"Out of stock\" : \"Add to Cart\"}\r\n            </a>\r\n            ,\r\n          </Tooltip>,\r\n        ]}\r\n      >\r\n        <Meta\r\n          title={`${title} - ${price.toLocaleString(\"in-ID\", {\r\n            style: \"currency\",\r\n            currency: \"IDR\",\r\n          })}`}\r\n          description={`${description && description.substring(0, 60)}...`}\r\n        />\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\nexport default ProductCard;\r\n","import React from \"react\";\r\nimport StarRating from \"react-star-ratings\";\r\n\r\nconst ShowAverage = ({ product }) => {\r\n  if (product && product.ratings) {\r\n    let ratingsArray = product && product.ratings;\r\n    let total = [];\r\n    let length = ratingsArray.length;\r\n\r\n    ratingsArray.map((r) => total.push(r.star));\r\n    let totalReduced = total.reduce((p, n) => p + n, 0);\r\n    // console.log(\"totalReduced =>\", totalReduced);\r\n\r\n    let highest = length * 5;\r\n    // console.log(\"highest\", highest);\r\n\r\n    let result = (totalReduced * 5) / highest;\r\n    // console.log(\"result\", result);\r\n\r\n    return (\r\n      <div className=\"text-center pt-1 pb-3\">\r\n        <span>\r\n          <StarRating\r\n            starDimension=\"20px\"\r\n            startSpacing=\"2px\"\r\n            starRatedColor=\"red\"\r\n            rating={result}\r\n            editing={false}\r\n          />{\" \"}\r\n          ({product.ratings.length})\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default ShowAverage;\r\n","import axios from \"axios\";\r\n\r\nexport const getCategories = async () =>\r\n  await axios.get(`${process.env.REACT_APP_API}/categories`);\r\n\r\nexport const getCategory = async (slug) =>\r\n  await axios.get(`${process.env.REACT_APP_API}/category/${slug}`);\r\n\r\nexport const removeCategory = async (slug, authtoken) =>\r\n  axios.delete(`${process.env.REACT_APP_API}/category/${slug}`, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\nexport const updateCategory = async (slug, category, authtoken) =>\r\n  axios.put(`${process.env.REACT_APP_API}/category/${slug}`, category, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\nexport const createCategory = async (category, authtoken) =>\r\n  await axios.post(`${process.env.REACT_APP_API}/category`, category, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\nexport const getCategorySubs = async (_id) =>\r\n  await axios.get(`${process.env.REACT_APP_API}/category/subs/${_id}`);\r\n","import axios from \"axios\";\r\n\r\nexport const createProduct = async (product, authtoken) =>\r\n  await axios.post(`${process.env.REACT_APP_API}/product`, product, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\nexport const getProductsByCount = async (count) =>\r\n  await axios.get(`${process.env.REACT_APP_API}/products/${count}`);\r\n\r\nexport const removeProduct = async (slug, authtoken) =>\r\n  await axios.delete(`${process.env.REACT_APP_API}/product/${slug}`, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\nexport const getProduct = async (slug) =>\r\n  await axios.get(`${process.env.REACT_APP_API}/product/${slug}`);\r\n\r\nexport const updateProduct = async (slug, product, authtoken) =>\r\n  await axios.put(`${process.env.REACT_APP_API}/product/${slug}`, product, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\nexport const getProducts = async (sort, order, page) =>\r\n  await axios.post(`${process.env.REACT_APP_API}/products`, {\r\n    sort,\r\n    order,\r\n    page,\r\n  });\r\n\r\nexport const getProductsCount = async () =>\r\n  await axios.get(`${process.env.REACT_APP_API}/products/total`);\r\n\r\nexport const productStar = async (productId, star, authtoken) =>\r\n  await axios.put(\r\n    `${process.env.REACT_APP_API}/product/star/${productId}`,\r\n    { star },\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\n\r\nexport const getRelated = async (productId) =>\r\n  await axios.get(`${process.env.REACT_APP_API}/product/related/${productId}`);\r\n\r\nexport const fetchProductsByFilter = async (arg) =>\r\n  await axios.post(`${process.env.REACT_APP_API}/search/filters`, arg);\r\n","import axios from \"axios\";\r\n\r\nexport const userCart = (cart, authtoken) =>\r\n  axios.post(\r\n    `${process.env.REACT_APP_API}/user/cart`,\r\n    { cart },\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\n\r\nexport const getUserCart = async (authtoken) =>\r\n  await axios.get(`${process.env.REACT_APP_API}/user/cart`, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\nexport const emptyUserCart = async (authtoken) =>\r\n  await axios.delete(`${process.env.REACT_APP_API}/user/cart`, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\nexport const saveUserAddress = async (authtoken, address) =>\r\n  await axios.post(\r\n    `${process.env.REACT_APP_API}/user/address`,\r\n    { address },\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\n\r\nexport const applyCoupon = async (coupon, authtoken) =>\r\n  await axios.post(\r\n    `${process.env.REACT_APP_API}/user/cart/coupon`,\r\n    { coupon },\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\n\r\nexport const createOrder = async (stripeResponse, authtoken) =>\r\n  await axios.post(`${process.env.REACT_APP_API}/user/order`, stripeResponse, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\nexport const getUserOrders = async (authtoken) =>\r\n  await axios.get(`${process.env.REACT_APP_API}/user/order`, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\nexport const getWishlist = async (authtoken) =>\r\n  await axios.get(`${process.env.REACT_APP_API}/user/wishlist`, {\r\n    headers: {\r\n      authtoken,\r\n    },\r\n  });\r\n\r\nexport const removeWishlist = async (productId, authtoken) =>\r\n  await axios.put(\r\n    `${process.env.REACT_APP_API}/user/wishlist/${productId}`,\r\n    {},\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\n\r\nexport const addToWishlist = async (productId, authtoken) =>\r\n  await axios.post(\r\n    `${process.env.REACT_APP_API}/user/wishlist`,\r\n    { productId },\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\n\r\nexport const createCashOrderForUser = async (authtoken, COD, coupon) =>\r\n  await axios.post(\r\n    `${process.env.REACT_APP_API}/user/cash-order`,\r\n    { couponApplied: coupon, COD },\r\n    {\r\n      headers: {\r\n        authtoken,\r\n      },\r\n    }\r\n  );\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getCategories } from \"./../../functions/category\";\r\n\r\nconst ProductListItems = ({ product }) => {\r\n  const { price, category, subs, shipping, color, brand, quantity, sold } =\r\n    product;\r\n\r\n  return (\r\n    <ul className=\"list-group\">\r\n      <li className=\"list-group-item\">\r\n        Price{\" \"}\r\n        <span className=\"label label-default label-pill pull-xs-right\">\r\n          Rp {price}\r\n        </span>\r\n      </li>\r\n\r\n      {category && (\r\n        <li className=\"list-group-item\">\r\n          Category{\" \"}\r\n          <Link\r\n            to={`/category/${category.slug}`}\r\n            className=\"label label-default label-pill pull-xs-right\"\r\n          >\r\n            {category.name}\r\n          </Link>\r\n        </li>\r\n      )}\r\n\r\n      {subs && (\r\n        <li className=\"list-group-item\">\r\n          Sub Categories\r\n          {subs.map((s) => (\r\n            <Link\r\n              to={`/sub/${s.slug}`}\r\n              className=\"label label-default label-pill pull-xs-right\"\r\n              key={s._id}\r\n            >\r\n              {s.name}\r\n            </Link>\r\n          ))}\r\n        </li>\r\n      )}\r\n\r\n      <li className=\"list-group-item\">\r\n        Shipping{\" \"}\r\n        <span className=\"label label-default label-pill pull-xs-right\">\r\n          {shipping}\r\n        </span>\r\n      </li>\r\n\r\n      <li className=\"list-group-item\">\r\n        Color{\" \"}\r\n        <span className=\"label label-default label-pill pull-xs-right\">\r\n          {color}\r\n        </span>\r\n      </li>\r\n\r\n      <li className=\"list-group-item\">\r\n        Brand{\" \"}\r\n        <span className=\"label label-default label-pill pull-xs-right\">\r\n          {brand}\r\n        </span>\r\n      </li>\r\n\r\n      <li className=\"list-group-item\">\r\n        Available{\" \"}\r\n        <span className=\"label label-default label-pill pull-xs-right\">\r\n          {quantity}\r\n        </span>\r\n      </li>\r\n\r\n      <li className=\"list-group-item\">\r\n        Sold{\" \"}\r\n        <span className=\"label label-default label-pill pull-xs-right\">\r\n          {sold}\r\n        </span>\r\n      </li>\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ProductListItems;\r\n","import React, { useState } from \"react\";\r\nimport { Modal, Button } from \"antd\";\r\nimport { StarOutlined } from \"@ant-design/icons\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nconst RatingModal = ({ children }) => {\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n\r\n  let history = useHistory();\r\n  let { slug } = useParams();\r\n\r\n  const handleModal = () => {\r\n    if (user && user.token) {\r\n      setModalVisible(true);\r\n    } else {\r\n      history.push({\r\n        pathname: \"/login\",\r\n        state: { from: `/product/${slug}` },\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div onClick={handleModal}>\r\n        <StarOutlined className=\"text-danger\" /> <br />\r\n        {user ? \"Leave rating\" : \"Login to leave rating\"}\r\n      </div>\r\n      <Modal\r\n        title=\"Leave your rating\"\r\n        centered\r\n        visible={modalVisible}\r\n        onOk={() => {\r\n          setModalVisible(false);\r\n          toast.success(\"Thanks for you review. It will apper soon\");\r\n        }}\r\n        onCancel={() => setModalVisible(false)}\r\n      >\r\n        {children}\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RatingModal;\r\n","import React, { useState } from \"react\";\r\nimport { Card, Tabs, Tooltip } from \"antd\";\r\nimport { HeartOutlined, ShoppingCartOutlined } from \"@ant-design/icons\";\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\r\nimport { Carousel } from \"react-responsive-carousel\";\r\nimport defaultGambar from \"../../images/default.png\";\r\nimport ProductListItems from \"./ProductListItems\";\r\nimport StartRating from \"react-star-ratings\";\r\nimport RatingModal from \"../modal/RatingModal\";\r\nimport ShowAverage from \"./../../functions/ShowAverage\";\r\nimport _, { uniqWith } from \"lodash\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { addToWishlist } from \"../../functions/user\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nconst SingleProduct = ({ product, onStartClick, star }) => {\r\n  // add to cart\r\n  const [tooltip, setTooltip] = useState(\"Click to add\");\r\n\r\n  // redux\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n  const dispatch = useDispatch();\r\n\r\n  // router\r\n  const history = useHistory();\r\n\r\n  const handleAddToCart = () => {\r\n    // create cart array\r\n    let cart = [];\r\n    if (typeof window !== \"undefined\") {\r\n      // if cart is in local storage GET it\r\n      if (localStorage.getItem(\"cart\")) {\r\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n      }\r\n\r\n      // push new product to cart\r\n      cart.push({\r\n        ...product,\r\n        count: 1,\r\n      });\r\n\r\n      // remove duplicates\r\n      let unique = uniqWith(cart, _.isEqual);\r\n      // save to local storage\r\n      // console.log(\"unique\", unique);\r\n      localStorage.setItem(\"cart\", JSON.stringify(unique));\r\n\r\n      // show Tooltip\r\n      setTooltip(\"Added\");\r\n\r\n      // add redux state\r\n      dispatch({\r\n        type: \"ADD_TO_CART\",\r\n        payload: unique,\r\n      });\r\n\r\n      // show cart items in side drawer\r\n      dispatch({\r\n        type: \"SET_VISIBLE\",\r\n        payload: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  const { title, description, images, _id } = product;\r\n\r\n  const handleAddToWishlist = (e) => {\r\n    e.preventDefault();\r\n    addToWishlist(product._id, user.token).then((res) => {\r\n      console.log(\"ADD TO WISHLIST\", res.data);\r\n      toast.success(\"Added to wishlist\");\r\n      history.push(\"/user/whislist\");\r\n    });\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"col-md-7\">\r\n        {images && images.length ? (\r\n          <Carousel showArrows={true} autoPlay infiniteLoop>\r\n            {images &&\r\n              images.map((i) => (\r\n                <img\r\n                  src={i.url}\r\n                  key={i.public_id}\r\n                  style={{ objectFit: \"contain\" }}\r\n                />\r\n              ))}\r\n          </Carousel>\r\n        ) : (\r\n          <Card\r\n            cover={<img src={defaultGambar} className=\"mb-3 card-image\" />}\r\n          ></Card>\r\n        )}\r\n\r\n        <Tabs type=\"card\">\r\n          <TabPane tab=\"Description\" key=\"1\">\r\n            {description && description}\r\n          </TabPane>\r\n          <TabPane tab=\"More\" key=\"2\">\r\n            Call use on +62 822-3788-8697 learn more about this product\r\n          </TabPane>\r\n        </Tabs>\r\n      </div>\r\n\r\n      <div className=\"col-md-5\">\r\n        <h5 className=\"bg-info p-3\">{title}</h5>\r\n\r\n        {product && product.ratings && product.ratings.length > 0 ? (\r\n          <ShowAverage product={product} />\r\n        ) : (\r\n          <div className=\"text-center pt-1 pb-3r\">No rating yet</div>\r\n        )}\r\n\r\n        <Card\r\n          actions={[\r\n            <Tooltip title={tooltip}>\r\n              <a onClick={handleAddToCart}>\r\n                <ShoppingCartOutlined className=\"text-danger\" /> <br /> Add to\r\n                Cart\r\n              </a>\r\n              ,\r\n            </Tooltip>,\r\n            <a onClick={handleAddToWishlist}>\r\n              <HeartOutlined className=\"text-info\" /> <br /> Add to Wishlist\r\n            </a>,\r\n            <RatingModal>\r\n              <StartRating\r\n                name={_id}\r\n                numberOfStars={5}\r\n                changeRating={onStartClick}\r\n                rating={star}\r\n                isSelectable={true}\r\n                starRatedColor=\"red\"\r\n              />\r\n            </RatingModal>,\r\n          ]}\r\n        >\r\n          <ProductListItems product={product} />\r\n        </Card>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SingleProduct;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport SingleProduct from \"../components/card/SingleProduct\";\r\nimport { getProduct, productStar } from \"../functions/product\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getRelated } from \"./../functions/product\";\r\nimport ProductCard from \"./../components/card/ProductCard\";\r\n\r\nconst Product = ({ match }) => {\r\n  const [product, setProduct] = useState([]);\r\n  const [star, setStar] = useState(0);\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n  const [related, setRelated] = useState([]);\r\n\r\n  const { slug } = match.params;\r\n\r\n  useEffect(() => {\r\n    loadSingleProduct();\r\n  }, [slug]);\r\n\r\n  useEffect(() => {\r\n    if (product.ratings && user) {\r\n      let existingRatingObejct = product.ratings.find(\r\n        (ele) => ele.postedBy.toString() === user._id.toString()\r\n      );\r\n\r\n      existingRatingObejct && setStar(existingRatingObejct.star);\r\n    }\r\n  }, []);\r\n\r\n  const loadSingleProduct = () =>\r\n    getProduct(slug).then((res) => {\r\n      setProduct(res.data);\r\n      // load related\r\n      getRelated(res.data._id).then((res) => setRelated(res.data));\r\n    });\r\n\r\n  const onStartClick = (newRating, name) => {\r\n    // console.table(newRating, name);\r\n    setStar(newRating);\r\n    productStar(name, newRating, user.token).then((res) => {\r\n      console.log(\"Rating updated =>\", res.data);\r\n      loadSingleProduct();\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row pt-4\">\r\n        <SingleProduct\r\n          product={product}\r\n          onStartClick={onStartClick}\r\n          star={star}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"row\">\r\n        <div className=\"col text-center pt-5 pb-5\">\r\n          <hr />\r\n          <h4 className=\"alert ant-alert-info\">Related product</h4>\r\n          <hr />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row pb-5\">\r\n        {related.length\r\n          ? related.map((r) => (\r\n              <div key={r._id} className=\"col-md-4\">\r\n                <ProductCard product={r} />\r\n              </div>\r\n            ))\r\n          : \"No product found\"}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n"],"names":["Meta","Card","product","useState","tooltip","setTooltip","useSelector","state","dispatch","user","cart","useDispatch","title","description","images","slug","price","ratings","length","className","cover","src","url","defaultGambar","style","height","objectFit","alt","actions","to","onClick","window","localStorage","getItem","JSON","parse","push","count","unique","uniqWith","_","setItem","stringify","type","payload","disabled","quantity","toLocaleString","currency","substring","ratingsArray","total","map","r","star","result","reduce","p","n","starDimension","startSpacing","starRatedColor","rating","editing","getCategories","axios","process","getCategory","removeCategory","authtoken","headers","updateCategory","category","createCategory","getCategorySubs","_id","createProduct","getProductsByCount","removeProduct","getProduct","updateProduct","getProducts","sort","order","page","getProductsCount","productStar","productId","getRelated","fetchProductsByFilter","arg","userCart","getUserCart","emptyUserCart","saveUserAddress","address","applyCoupon","coupon","createOrder","stripeResponse","getUserOrders","getWishlist","removeWishlist","addToWishlist","createCashOrderForUser","COD","couponApplied","subs","shipping","color","brand","sold","name","s","children","modalVisible","setModalVisible","history","useHistory","useParams","token","pathname","from","StarOutlined","centered","visible","onOk","toast","onCancel","TabPane","Tabs","onStartClick","showArrows","autoPlay","infiniteLoop","i","public_id","tab","ShowAverage","ShoppingCartOutlined","e","preventDefault","then","res","console","log","data","HeartOutlined","numberOfStars","changeRating","isSelectable","match","setProduct","setStar","related","setRelated","params","useEffect","loadSingleProduct","existingRatingObejct","find","ele","postedBy","toString","newRating","ProductCard"],"sourceRoot":""}