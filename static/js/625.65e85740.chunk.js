"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[625],{2066:function(e,t,n){var r=n(1413),a=(n(72791),n(3466)),c=n.n(a),s=n(74569),o=n.n(s),u=n(59434),i=n(75594),p=n(67734),l=n(80184);t.Z=function(e){var t=e.values,n=e.setValues,a=e.setLoading,s=(0,u.v9)((function(e){return(0,r.Z)({},e)})).user;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"row",children:t.images&&t.images.map((function(e){return(0,l.jsx)(i.Z,{count:"X",onClick:function(){return c=e.public_id,a(!0),void o().post("".concat("https://rainy-tabbi-react-ecommerce.koyeb.app/api","/removeimages"),{public_id:c},{headers:{authtoken:s?s.token:""}}).then((function(e){a(!1);var s=t.images.filter((function(e){return e.public_id!==c}));n((0,r.Z)((0,r.Z)({},t),{},{images:s}))})).catch((function(e){console.log(e),a(!1)}));var c},style:{cursor:"pointer"},children:(0,l.jsx)(p.C,{src:e.url,size:100,shape:"square",className:"ml-3"})},e.public_id)}))}),(0,l.jsx)("div",{className:"row",children:(0,l.jsxs)("label",{className:"btn btn-primary btn-raised mt-3",children:["Choose File",(0,l.jsx)("input",{type:"file",multiple:!0,hidden:!0,accept:"images/*",onChange:function(e){var u=e.target.files,i=t.images;if(u){a(!0);for(var p=0;p<u.length;p++)c().imageFileResizer(u[p],720,720,"JPEG",100,0,(function(e){o().post("".concat("https://rainy-tabbi-react-ecommerce.koyeb.app/api","/uploadimages"),{image:e},{headers:{authtoken:s?s.token:""}}).then((function(e){a(!1),i.push(e.data),n((0,r.Z)((0,r.Z)({},t),{},{images:i}))})).catch((function(e){a(!1),console.log("CLOUDINARY UPLOAD ERR",e)}))}),"base64")}}})]})})]})}},77834:function(e,t,n){n(72791);var r=n(91523),a=n(80184);t.Z=function(){return(0,a.jsx)("nav",{children:(0,a.jsxs)("ul",{className:"nav flex-column",children:[(0,a.jsx)("li",{className:"nav-item",children:(0,a.jsx)(r.rU,{to:"/admin/dashboard",className:"nav-link",children:"Dashboard"})}),(0,a.jsx)("li",{className:"nav-item",children:(0,a.jsx)(r.rU,{to:"/admin/product",className:"nav-link",children:"Product"})}),(0,a.jsx)("li",{className:"nav-item",children:(0,a.jsx)(r.rU,{to:"/admin/products",className:"nav-link",children:"Products"})}),(0,a.jsx)("li",{className:"nav-item",children:(0,a.jsx)(r.rU,{to:"/admin/category",className:"nav-link",children:"Category"})}),(0,a.jsx)("li",{className:"nav-item",children:(0,a.jsx)(r.rU,{to:"/admin/sub",className:"nav-link",children:"Sub Category"})}),(0,a.jsx)("li",{className:"nav-item",children:(0,a.jsx)(r.rU,{to:"/admin/coupon",className:"nav-link",children:"Coupon"})}),(0,a.jsx)("li",{className:"nav-item",children:(0,a.jsx)(r.rU,{to:"/user/password",className:"nav-link",children:"Password"})})]})})}},86729:function(e,t,n){n.d(t,{CP:function(){return o},Gu:function(){return d},k4:function(){return l},n3:function(){return u},sT:function(){return i},yr:function(){return p}});var r=n(74165),a=n(15861),c=n(74569),s=n.n(c),o=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("".concat("https://rainy-tabbi-react-ecommerce.koyeb.app/api","/categories"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("".concat("https://rainy-tabbi-react-ecommerce.koyeb.app/api","/category/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().delete("".concat("https://rainy-tabbi-react-ecommerce.koyeb.app/api","/category/").concat(t),{headers:{authtoken:n}}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().put("".concat("https://rainy-tabbi-react-ecommerce.koyeb.app/api","/category/").concat(t),n,{headers:{authtoken:a}}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().post("".concat("https://rainy-tabbi-react-ecommerce.koyeb.app/api","/category"),t,{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("".concat("https://rainy-tabbi-react-ecommerce.koyeb.app/api","/category/subs/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},57027:function(e,t,n){n.d(t,{Ej:function(){return f},RB:function(){return b},Xp:function(){return d},Y2:function(){return h},cE:function(){return m},kh:function(){return i},nM:function(){return l},ry:function(){return o},su:function(){return u},wv:function(){return p}});var r=n(74165),a=n(15861),c=n(74569),s=n.n(c),o=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().post("".concat("https://rainy-tabbi-react-ecommerce.koyeb.app/api","/product"),t,{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("".concat("https://rainy-tabbi-react-ecommerce.koyeb.app/api","/products/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().delete("".concat("https://rainy-tabbi-react-ecommerce.koyeb.app/api","/product/").concat(t),{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("".concat("https://rainy-tabbi-react-ecommerce.koyeb.app/api","/product/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().put("".concat("https://rainy-tabbi-react-ecommerce.koyeb.app/api","/product/").concat(t),n,{headers:{authtoken:a}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().post("".concat("https://rainy-tabbi-react-ecommerce.koyeb.app/api","/products"),{sort:t,order:n,page:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),h=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("".concat("https://rainy-tabbi-react-ecommerce.koyeb.app/api","/products/total"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().put("".concat("https://rainy-tabbi-react-ecommerce.koyeb.app/api","/product/star/").concat(t),{star:n},{headers:{authtoken:a}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),m=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("".concat("https://rainy-tabbi-react-ecommerce.koyeb.app/api","/product/related/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().post("".concat("https://rainy-tabbi-react-ecommerce.koyeb.app/api","/search/filters"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},34625:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var r=n(4942),a=n(1413),c=n(29439),s=n(72791),o=n(59434),u=n(77834),i=n(9085),p=n(57027),l=n(86729),d=n(2066),h=n(77106),f=n(42220),m=n(80184),b=f.Z.Option,v=function(e){var t=e.handleSubmit,n=e.handleChange,r=e.handleCategoryChange,a=e.values,c=(e.setValues,e.categories),s=e.subOptions,o=e.arrayOfSubs,u=e.setArrayOfSubs,i=e.selectedCategory,p=a.title,l=a.description,d=a.price,h=a.category,v=a.shipping,x=a.quantity,y=a.colors,g=a.brands,Z=a.color,j=a.brand;return(0,m.jsxs)("form",{onSubmit:t,children:[(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{children:"Title"}),(0,m.jsx)("input",{type:"text",name:"title",className:"form-control",value:p,onChange:n})]}),(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{children:"Description"}),(0,m.jsx)("textarea",{name:"description",type:"textarea",className:"form-control",value:l,onChange:n,cols:10,rows:10})]}),(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{children:"Price"}),(0,m.jsx)("input",{type:"text",name:"price",className:"form-control",value:d,onChange:n})]}),(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{children:"Shipping"}),(0,m.jsxs)("select",{name:"shipping",className:"form-control",onChange:n,value:"No"===v?"No":"Yes",children:[(0,m.jsx)("option",{value:"No",children:"No"}),(0,m.jsx)("option",{value:"Yes",children:"Yes"})]})]}),(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{children:"Quantity"}),(0,m.jsx)("input",{type:"number",name:"quantity",className:"form-control",value:x,onChange:n})]}),(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{children:"Color"}),(0,m.jsx)("select",{value:Z,name:"color",className:"form-control",onChange:n,children:y.map((function(e){return(0,m.jsx)("option",{value:e,children:e},e)}))})]}),(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{children:"Brand"}),(0,m.jsx)("select",{value:j,name:"brand",className:"form-control",onChange:n,children:g.map((function(e){return(0,m.jsx)("option",{value:e,children:e},e)}))})]}),(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{children:"Category"}),(0,m.jsx)("select",{name:"category",className:"form-control",onChange:r,value:i||h._id,children:c.length>0&&c.map((function(e){return(0,m.jsx)("option",{value:e._id,children:e.name},e._id)}))})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{children:"Sub Categories"}),(0,m.jsx)(f.Z,{mode:"multiple",style:{width:"100%"},placeholder:"Please select",value:o,onChange:function(e){return u(e)},children:s.length>0&&s.map((function(e){return(0,m.jsx)(b,{value:e._id,children:e.name},e._id)}))})]}),(0,m.jsx)("br",{}),(0,m.jsx)("button",{className:"btn btn-outline-info",children:"Save"})]})},x={title:"",description:"",price:"",category:"",subs:[],shipping:"",quantity:"",images:[],colors:["Black","Brown","Silver","White","Blue"],brands:["Apple","Samsung","Microsoft","Lenovo","ASUS"],color:"",brand:""},y=function(e){var t=e.match,n=e.history,f=(0,s.useState)(x),b=(0,c.Z)(f,2),y=b[0],g=b[1],Z=(0,s.useState)([]),j=(0,c.Z)(Z,2),k=j[0],N=j[1],w=(0,s.useState)([]),C=(0,c.Z)(w,2),S=C[0],_=C[1],U=(0,s.useState)([]),P=(0,c.Z)(U,2),O=P[0],A=P[1],D=(0,s.useState)(""),B=(0,c.Z)(D,2),E=B[0],L=B[1],R=(0,s.useState)(!1),Y=(0,c.Z)(R,2),q=Y[0],G=Y[1],V=(0,o.v9)((function(e){return(0,a.Z)({},e)})).user,F=t.params.slug;(0,s.useEffect)((function(){M(),z()}),[]);var M=function(){return(0,p.wv)(F).then((function(e){g((0,a.Z)((0,a.Z)({},y),e.data)),(0,l.Gu)(e.data.category._id).then((function(e){N(e.data)}));var t=[];e.data.subs.map((function(e){t.push(e._id)})),A((function(e){return t}))})).catch((function(e){return console.log(e)}))},z=function(){return(0,l.CP)().then((function(e){_(e.data)}))};return(0,m.jsx)("div",{className:"container-fluid",children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-md-2",children:(0,m.jsx)(u.Z,{})}),(0,m.jsxs)("div",{className:"col-md-10",children:[q?(0,m.jsx)(h.Z,{className:"text-danger h1 pb-2 text-center"}):(0,m.jsx)("h4",{className:"pb-2 text-center",children:"Product Update"}),(0,m.jsx)("hr",{}),(0,m.jsx)("div",{className:"p-3",children:(0,m.jsx)(d.Z,{values:y,setValues:g,setLoading:G})}),(0,m.jsx)(v,{handleSubmit:function(e){e.preventDefault(),G(!0),y.subs=O,y.category=E||y.category,(0,p.nM)(F,y,V.token).then((function(e){G(!1),i.Am.success('"'.concat(e.data.title,'" is updated')),n.push("/admin/products")})).catch((function(e){G(!1),console.log(e),i.Am.error(e.response.data.err)}))},handleChange:function(e){g((0,a.Z)((0,a.Z)({},y),{},(0,r.Z)({},e.target.name,e.target.value)))},values:y,setValues:g,handleCategoryChange:function(e){e.preventDefault(),g((0,a.Z)((0,a.Z)({},y),{},{subs:[]})),L(e.target.value),(0,l.Gu)(e.target.value).then((function(e){N(e.data)})),y.category._id===e.target.value&&M(),A([])},categories:S,subOptions:k,arrayOfSubs:O,setArrayOfSubs:A,selectedCategory:E})]})]})})}}}]);
//# sourceMappingURL=625.65e85740.chunk.js.map